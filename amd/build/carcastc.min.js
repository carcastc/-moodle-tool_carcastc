define ("tool_carcastc/carcastc",["exports","core/notification","core/pending","core/str","core/ajax","core/templates"],function(a,b,c,d,e,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=void 0;b=g(b);c=g(c);e=g(e);f=g(f);function g(a){return a&&a.__esModule?a:{default:a}}var h={DELETE_ROW:"[data-action=\"deleterow\"]",ID_ROW:"data-rowid",COURSE_ID:"data-courseid",ID_TEMPLATE:"tool_carcastc_rows_list"},i=function(a,e){var g=new c.default("tool_carcastc/carcastc:confirmDelete");(0,d.get_strings)([{key:"confirm"},{key:"confirmdeleterow",component:"tool_carcastc"},{key:"yes"},{key:"no"}]).then(function(d){return b.default.confirm(d[0],d[1],d[2],d[3],function(){var d=new c.default("tool_carcastc/carcastc:requestWsDelete"),g=a.getAttribute(h.ID_ROW),i=a.getAttribute(h.COURSE_ID);j([{methodname:"tool_carcastc_delete_row",args:{id:g}},{methodname:"tool_carcastc_display_rows",args:{courseid:i}}])[1].then(function(a){return f.default.render("tool_carcastc/rows_list",a)}).then(function(a){e.innerHTML=a.toString()}).then(d.resolve).catch(b.default.exception)})}).then(g.resolve).catch(b.default.exception)},j=function(a){return e.default.call(a)};a.init=function init(){document.addEventListener("click",function(a){var b=a.target.closest(h.DELETE_ROW),c=document.getElementById(h.ID_TEMPLATE);if(b){a.preventDefault();i(b,c)}})}});
//# sourceMappingURL=carcastc.min.js.map
